!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=".",r(r.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SELECTOR_CLASS=t.isMobile=t.MOBILE_BP=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=l(r(3)),i=l(r(9)),s=l(r(2)),a=l(r(11));function l(e){return e&&e.__esModule?e:{default:e}}r(12);var u=function(){function e(t){var r=this,n=t.tag,l=t.places,u=t.sidebar,c=t.popup,p=t.pinImagePath,f=t.iconImagePath,d=t.clusterer,y=t.mapStyle,m=t.startPos,_=t.noGeoloc;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l=l||[],this.places=l,document.querySelector("."+h)){this.mapHandler=new o.default(p),u&&(this.sidebarHandler=new i.default(u,f||p),this.mapSearch=new s.default(this._goToSearchedPlace.bind(this))),c&&(this.mapPopup=new a.default(c,!!u,function(){return r.mapHandler.deselectPlace()}));this._loadGoogleApis(function(){return google.maps.event.addDomListener(window,"load",init)},n).then(function(){r.mapHandler.initMap(y,m,_);var e=c?function(e){return r._selectPlace(e)}:null;r.mapHandler.setPlaces(l,r._getOffsetX(),0,e,d),r.mapSearch&&r.mapSearch.initSearch(),r._addListeners()})}}return n(e,[{key:"_loadGoogleApis",value:function(e,t){return new Promise(function(r,n){"undefined"!=typeof google&&e();var o=document.createElement("script");o.src=t;var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(o,i),o.addEventListener("load",function(){return r()}),setTimeout(function(){return n()},5e3)})}},{key:"_addListeners",value:function(){var e=this,t=!0;this.mapHandler.map.addListener("bounds_changed",function(){t&&(e.sidebarHandler&&(e.sidebarHandler.populateSidebar(e.mapHandler.getVisibleMarkers(),e._selectPlace.bind(e),!!e.mapHandler.clientPosition),e.mapSearch.updateBounds(e.mapHandler.map.getBounds())),t=!1,setTimeout(function(){return t=!0},100))});var r=function(){e.mapPopup&&t&&e._popupClose()};this.mapHandler.map.addListener("drag",r),this.mapHandler.map.addListener("zoom_changed",r)}},{key:"_goToSearchedPlace",value:function(t){var r=this;this.mapHandler.goToSearchedPlace(t).then(function(t){var n=r.mapHandler.markers.filter(function(r){return e._addressesEqual(t.formatted_address,r.item.address)&&e._namesEqual(t.name,r.item.name)})[0];n?r._selectPlace(n):t.types.includes("point_of_interest")?r.mapPopup.createAndShowPromptPopup(t):(r._popupClose(),r.sidebarHandler.setNumberVisibleMarkers(r.mapHandler.getVisibleMarkers(),!0))})}},{key:"_selectPlace",value:function(e){var t=this.mapPopup.createPlacePopup(e.item);this.mapHandler.selectPlace(e,this._getOffsetX(),this._getOffsetY(t)),this.mapPopup.showPopup()}},{key:"_popupClose",value:function(){this.mapPopup.closePopup(),this.mapHandler.deselectPlace()}},{key:"_getOffsetX",value:function(){return p()||!this.sidebarHandler?0:150}},{key:"_getOffsetY",value:function(e){return parseFloat(window.getComputedStyle(e).height.split("px")[0])/2+60}}],[{key:"_addressesEqual",value:function(e,t){return e&&t&&e.toLowerCase().trim().replace(/,/g,"").replace(/ /g,"").startsWith(t.toLowerCase().trim().replace(/,/g,"").replace(/ /g,""))}},{key:"_namesEqual",value:function(e,t){return e&&t&&e.toLowerCase().trim().replace(/ /g,"")===t.toLowerCase().trim().replace(/ /g,"")}}]),e}(),c=t.MOBILE_BP=960,p=t.isMobile=function(){return document.body.clientWidth<c},h=t.SELECTOR_CLASS="places";t.default=u},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0);var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.input=document.querySelector("."+o.SELECTOR_CLASS+"-search-bar__input"),this.btn=document.querySelector("."+o.SELECTOR_CLASS+"-search-bar__btn"),this.onPlaceChange=t}return n(e,[{key:"initSearch",value:function(){var e=this;this.autocomplete=new google.maps.places.Autocomplete(this.input,{componentRestrictions:{country:"se"}}),this.autocomplete.addListener("place_changed",function(){e.onPlaceChange(e.autocomplete.getPlace()),e.input.value=""}),this.btn.onclick=function(){e.input.value&&e.input.value.length>0&&(e.onPlaceChange({name:e.input.value}),e.input.value="")}}},{key:"updateBounds",value:function(e){this.autocomplete.setBounds(e)}}],[{key:"getHTML",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return'<div class="'+o.SELECTOR_CLASS+'-search-bar"><label for="search" class="'+o.SELECTOR_CLASS+'-visually-hidden">Sök</label><input class="'+o.SELECTOR_CLASS+'-search-bar__input" id="search" placeholder="'+(e.placeholder?e.placeholder:"")+'" type="text" /><button class="'+o.SELECTOR_CLASS+'-search-bar__btn" title="sök">'+(e.searchIcon?'<img src="'+e.searchIcon+'" class="'+o.SELECTOR_CLASS+'-search-bar__icon" alt="sök">':"Sök")+"</button></div>"}}]),e}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=a(r(4));r(5);var i=a(r(6)),s=r(0);function a(e){return e&&e.__esModule?e:{default:e}}r(7).polyfill();var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.imagePath=t,e._buildMapWrapper()}return n(e,[{key:"initMap",value:function(e,t,r){t=t||{};var n={zoom:14,center:new google.maps.LatLng(t.lat?t.lat:"57.7004286",t.lng?t.lng:"11.9543521"),styles:i.default[e]?i.default[e]:e,disableDefaultUI:!0},o=document.querySelector("."+s.SELECTOR_CLASS+"__container");this.map=new google.maps.Map(o,n),r||this._initGeoloc()}},{key:"setPlaces",value:function(e,t,r,n,o){var i=this;this.markers=e.map(function(e){var t=e.lat,r=e.lng,o=e.type,s=new google.maps.Marker({position:new google.maps.LatLng(t,r),map:i.map,item:e,icon:i.imagePath?{url:""+i.imagePath+(o||"")+".png",scaledSize:new google.maps.Size(32,40)}:null});return n&&s.addListener("click",function(){return n(s)}),s}),o&&this._initClusterer(o,t,r)}},{key:"goToSearchedPlace",value:function(e){var t=this;return new Promise(function(r,n){e.geometry?(t.goToCoordinates(e.geometry.location.lat(),e.geometry.location.lng()),setTimeout(function(){return r(e)},50)):(new google.maps.places.AutocompleteService).getPlacePredictions({input:e.name,offset:e.name.length,componentRestrictions:{country:"se"},bounds:t.map.getBounds()},function(e,n){e&&e.length>0&&new google.maps.places.PlacesService(t.map).getDetails({reference:e[0].reference},function(e,n){e&&t.goToSearchedPlace(e).then(function(e){r(e)})})})})}},{key:"goToCoordinates",value:function(e,t,r,n,o){var i=o||Math.max(16,this.map.zoom);r=r||0,n=n||0;var s=this.map.getProjection(),a=new google.maps.LatLng(parseFloat(e),parseFloat(t)),l=s.fromLatLngToPoint(a),u=new google.maps.Point(r/Math.pow(2,i),n/Math.pow(2,i));this.map.setCenter(s.fromPointToLatLng(new google.maps.Point(l.x-u.x,l.y+u.y))),this.map.setZoom(i)}},{key:"selectPlace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.offsetX,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.offsetY;this.deselectPlace(),this.goToCoordinates(e.item.lat,e.item.lng,t,r),this.selectedMarker=e,this._resizeMarker(e,!0)}},{key:"deselectPlace",value:function(){this.selectedMarker&&this._resizeMarker(this.selectedMarker,!1),this.selectedMarker=null}},{key:"getVisibleMarkers",value:function(){var t=this;return this.markers.filter(function(r){return e._inViewPort(t.map.getBounds(),r.item)})}},{key:"_resizeMarker",value:function(e,t){return this.imagePath&&e.setIcon({url:""+this.imagePath+(e.item.type?e.item.type:"")+".png",scaledSize:{width:t?51.2:32,height:t?64:40}}),e}},{key:"_initGeoloc",value:function(){var e=this;navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){var r=t.coords,n={lat:r.latitude,lng:r.longitude};e.clientPosition=n,e.map.setCenter(n),console.log("Location found.")},function(e){console.log("Error with geolocation: ",e)}):console.log("No geoloc enabled.")}},{key:"_initClusterer",value:function(t){var r=this;google.maps.event.addListener(new o.default(this.map,this.markers,{styles:[1,2,3,4,5].map(function(r){return e._getStyle(r,t)}),averageCenter:!0,gridSize:28,maxZoom:18,zoomOnClick:!1}),"clusterclick",function(e){var n=e.getCenter(),o=n.lat,i=n.lng,s=Math.min(r.map.zoom+3,e.getMarkerClusterer().getMaxZoom()+1);r.goToCoordinates(o(),i(),t.offsetX,t.offsetY,s)})}}],[{key:"_buildMapWrapper",value:function(){var e=document.querySelector("."+s.SELECTOR_CLASS);e&&e.insertAdjacentHTML("beforeend","<div class="+s.SELECTOR_CLASS+"__container></div>")}},{key:"_inViewPort",value:function(e,t){var r=t.lng,n=t.lat;return r<e.j.l&&r>e.j.j&&n<e.l.l&&n>e.l.j}},{key:"_getStyle",value:function(e,t){var r=t.imagePath,n=t.textSize,o=t.textColor,i=t.sizes;return{textSize:n||16,textColor:o||"#252C25",width:(i=i||[10,10,10,10,10])[e-1],height:i[e-1],anchor:[0,0],iconAnchor:[0,0],url:r?""+r+e+".png":""}}}]),e}();t.default=l},function(e,t,r){(function(t){function r(e,t,n){this.extend(r,google.maps.OverlayView),this.map_=e,this.markers_=[],this.clusters_=[],this.sizes=[53,56,66,78,90],this.styles_=[],this.ready_=!1;var o=n||{};this.gridSize_=o.gridSize||60,this.minClusterSize_=o.minimumClusterSize||2,this.maxZoom_=o.maxZoom||null,this.styles_=o.styles||[],this.imagePath_=o.imagePath||this.MARKER_CLUSTER_IMAGE_PATH_,this.imageExtension_=o.imageExtension||this.MARKER_CLUSTER_IMAGE_EXTENSION_,this.zoomOnClick_=!0,null!=o.zoomOnClick&&(this.zoomOnClick_=o.zoomOnClick),this.averageCenter_=!1,null!=o.averageCenter&&(this.averageCenter_=o.averageCenter),this.setupStyles_(),this.setMap(e),this.prevZoom_=this.map_.getZoom();var i=this;google.maps.event.addListener(this.map_,"zoom_changed",function(){var e=i.map_.getZoom();i.prevZoom_!=e&&(i.prevZoom_=e,i.resetViewport())}),google.maps.event.addListener(this.map_,"idle",function(){i.redraw()}),t&&t.length&&this.addMarkers(t,!1)}function n(e){this.markerClusterer_=e,this.map_=e.getMap(),this.gridSize_=e.getGridSize(),this.minClusterSize_=e.getMinClusterSize(),this.averageCenter_=e.isAverageCenter(),this.center_=null,this.markers_=[],this.bounds_=null,this.clusterIcon_=new o(this,e.getStyles(),e.getGridSize())}function o(e,t,r){e.getMarkerClusterer().extend(o,google.maps.OverlayView),this.styles_=t,this.padding_=r||0,this.cluster_=e,this.center_=null,this.map_=e.getMap(),this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(this.map_)}r.prototype.MARKER_CLUSTER_IMAGE_PATH_="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/images/m",r.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_="png",r.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)this.prototype[t]=e.prototype[t];return this}.apply(e,[t])},r.prototype.onAdd=function(){this.setReady_(!0)},r.prototype.draw=function(){},r.prototype.setupStyles_=function(){if(!this.styles_.length)for(var e,t=0;e=this.sizes[t];t++)this.styles_.push({url:this.imagePath_+(t+1)+"."+this.imageExtension_,height:e,width:e})},r.prototype.fitMapToMarkers=function(){for(var e,t=this.getMarkers(),r=new google.maps.LatLngBounds,n=0;e=t[n];n++)r.extend(e.getPosition());this.map_.fitBounds(r)},r.prototype.setStyles=function(e){this.styles_=e},r.prototype.getStyles=function(){return this.styles_},r.prototype.isZoomOnClick=function(){return this.zoomOnClick_},r.prototype.isAverageCenter=function(){return this.averageCenter_},r.prototype.getMarkers=function(){return this.markers_},r.prototype.getTotalMarkers=function(){return this.markers_.length},r.prototype.setMaxZoom=function(e){this.maxZoom_=e},r.prototype.getMaxZoom=function(){return this.maxZoom_},r.prototype.calculator_=function(e,t){for(var r=0,n=e.length,o=n;0!==o;)o=parseInt(o/10,10),r++;return{text:n,index:r=Math.min(r,t)}},r.prototype.setCalculator=function(e){this.calculator_=e},r.prototype.getCalculator=function(){return this.calculator_},r.prototype.addMarkers=function(e,t){for(var r,n=0;r=e[n];n++)this.pushMarkerTo_(r);t||this.redraw()},r.prototype.pushMarkerTo_=function(e){if(e.isAdded=!1,e.draggable){var t=this;google.maps.event.addListener(e,"dragend",function(){e.isAdded=!1,t.repaint()})}this.markers_.push(e)},r.prototype.addMarker=function(e,t){this.pushMarkerTo_(e),t||this.redraw()},r.prototype.removeMarker_=function(e){var t=-1;if(this.markers_.indexOf)t=this.markers_.indexOf(e);else for(var r,n=0;r=this.markers_[n];n++)if(r==e){t=n;break}return-1!=t&&(e.setMap(null),this.markers_.splice(t,1),!0)},r.prototype.removeMarker=function(e,t){var r=this.removeMarker_(e);return!(t||!r)&&(this.resetViewport(),this.redraw(),!0)},r.prototype.removeMarkers=function(e,t){for(var r,n=!1,o=0;r=e[o];o++){var i=this.removeMarker_(r);n=n||i}if(!t&&n)return this.resetViewport(),this.redraw(),!0},r.prototype.setReady_=function(e){this.ready_||(this.ready_=e,this.createClusters_())},r.prototype.getTotalClusters=function(){return this.clusters_.length},r.prototype.getMap=function(){return this.map_},r.prototype.setMap=function(e){this.map_=e},r.prototype.getGridSize=function(){return this.gridSize_},r.prototype.setGridSize=function(e){this.gridSize_=e},r.prototype.getMinClusterSize=function(){return this.minClusterSize_},r.prototype.setMinClusterSize=function(e){this.minClusterSize_=e},r.prototype.getExtendedBounds=function(e){var t=this.getProjection(),r=new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()),n=new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()),o=t.fromLatLngToDivPixel(r);o.x+=this.gridSize_,o.y-=this.gridSize_;var i=t.fromLatLngToDivPixel(n);i.x-=this.gridSize_,i.y+=this.gridSize_;var s=t.fromDivPixelToLatLng(o),a=t.fromDivPixelToLatLng(i);return e.extend(s),e.extend(a),e},r.prototype.isMarkerInBounds_=function(e,t){return t.contains(e.getPosition())},r.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers_=[]},r.prototype.resetViewport=function(e){for(var t,r=0;t=this.clusters_[r];r++)t.remove();var n;for(r=0;n=this.markers_[r];r++)n.isAdded=!1,e&&n.setMap(null);this.clusters_=[]},r.prototype.repaint=function(){var e=this.clusters_.slice();this.clusters_.length=0,this.resetViewport(),this.redraw(),window.setTimeout(function(){for(var t,r=0;t=e[r];r++)t.remove()},0)},r.prototype.redraw=function(){this.createClusters_()},r.prototype.distanceBetweenPoints_=function(e,t){if(!e||!t)return 0;var r=(t.lat()-e.lat())*Math.PI/180,n=(t.lng()-e.lng())*Math.PI/180,o=Math.sin(r/2)*Math.sin(r/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(n/2)*Math.sin(n/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},r.prototype.addToClosestCluster_=function(e){for(var t,r=4e4,o=null,i=(e.getPosition(),0);t=this.clusters_[i];i++){var s=t.getCenter();if(s){var a=this.distanceBetweenPoints_(s,e.getPosition());a<r&&(r=a,o=t)}}o&&o.isMarkerInClusterBounds(e)?o.addMarker(e):((t=new n(this)).addMarker(e),this.clusters_.push(t))},r.prototype.createClusters_=function(){if(this.ready_)for(var e,t=new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),this.map_.getBounds().getNorthEast()),r=this.getExtendedBounds(t),n=0;e=this.markers_[n];n++)!e.isAdded&&this.isMarkerInBounds_(e,r)&&this.addToClosestCluster_(e)},n.prototype.isMarkerAlreadyAdded=function(e){if(this.markers_.indexOf)return-1!=this.markers_.indexOf(e);for(var t,r=0;t=this.markers_[r];r++)if(t==e)return!0;return!1},n.prototype.addMarker=function(e){if(this.isMarkerAlreadyAdded(e))return!1;if(this.center_){if(this.averageCenter_){var t=this.markers_.length+1,r=(this.center_.lat()*(t-1)+e.getPosition().lat())/t,n=(this.center_.lng()*(t-1)+e.getPosition().lng())/t;this.center_=new google.maps.LatLng(r,n),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();e.isAdded=!0,this.markers_.push(e);var o=this.markers_.length;if(o<this.minClusterSize_&&e.getMap()!=this.map_&&e.setMap(this.map_),o==this.minClusterSize_)for(var i=0;i<o;i++)this.markers_[i].setMap(null);return o>=this.minClusterSize_&&e.setMap(null),this.updateIcon(),!0},n.prototype.getMarkerClusterer=function(){return this.markerClusterer_},n.prototype.getBounds=function(){for(var e,t=new google.maps.LatLngBounds(this.center_,this.center_),r=this.getMarkers(),n=0;e=r[n];n++)t.extend(e.getPosition());return t},n.prototype.remove=function(){this.clusterIcon_.remove(),this.markers_.length=0,delete this.markers_},n.prototype.getSize=function(){return this.markers_.length},n.prototype.getMarkers=function(){return this.markers_},n.prototype.getCenter=function(){return this.center_},n.prototype.calculateBounds_=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(e)},n.prototype.isMarkerInClusterBounds=function(e){return this.bounds_.contains(e.getPosition())},n.prototype.getMap=function(){return this.map_},n.prototype.updateIcon=function(){var e=this.map_.getZoom(),t=this.markerClusterer_.getMaxZoom();if(t&&e>t)for(var r,n=0;r=this.markers_[n];n++)r.setMap(this.map_);else if(this.markers_.length<this.minClusterSize_)this.clusterIcon_.hide();else{var o=this.markerClusterer_.getStyles().length,i=this.markerClusterer_.getCalculator()(this.markers_,o);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.setSums(i),this.clusterIcon_.show()}},o.prototype.triggerClusterClick=function(){var e=this.cluster_.getMarkerClusterer();google.maps.event.trigger(e,"clusterclick",this.cluster_),e.isZoomOnClick()&&this.map_.fitBounds(this.cluster_.getBounds())},o.prototype.onAdd=function(){if(this.div_=document.createElement("DIV"),this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(e),this.div_.innerHTML=this.sums_.text}this.getPanes().overlayMouseTarget.appendChild(this.div_);var t=this;google.maps.event.addDomListener(this.div_,"click",function(){t.triggerClusterClick()})},o.prototype.getPosFromLatLng_=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t.x-=parseInt(this.width_/2,10),t.y-=parseInt(this.height_/2,10),t},o.prototype.draw=function(){if(this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.top=e.y+"px",this.div_.style.left=e.x+"px"}},o.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},o.prototype.show=function(){if(this.div_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(e),this.div_.style.display=""}this.visible_=!0},o.prototype.remove=function(){this.setMap(null)},o.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),this.div_.parentNode.removeChild(this.div_),this.div_=null)},o.prototype.setSums=function(e){this.sums_=e,this.text_=e.text,this.index_=e.index,this.div_&&(this.div_.innerHTML=e.text),this.useStyle()},o.prototype.useStyle=function(){var e=Math.max(0,this.sums_.index-1);e=Math.min(this.styles_.length-1,e);var t=this.styles_[e];this.url_=t.url,this.height_=t.height,this.width_=t.width,this.textColor_=t.textColor,this.anchor_=t.anchor,this.textSize_=t.textSize,this.backgroundPosition_=t.backgroundPosition},o.prototype.setCenter=function(e){this.center_=e},o.prototype.createCss=function(e){var t=[];t.push("background-image:url("+this.url_+");");var r=this.backgroundPosition_?this.backgroundPosition_:"0 0";t.push("background-position:"+r+";"),"object"==typeof this.anchor_?("number"==typeof this.anchor_[0]&&this.anchor_[0]>0&&this.anchor_[0]<this.height_?t.push("height:"+(this.height_-this.anchor_[0])+"px; padding-top:"+this.anchor_[0]+"px;"):t.push("height:"+this.height_+"px; line-height:"+this.height_+"px;"),"number"==typeof this.anchor_[1]&&this.anchor_[1]>0&&this.anchor_[1]<this.width_?t.push("width:"+(this.width_-this.anchor_[1])+"px; padding-left:"+this.anchor_[1]+"px;"):t.push("width:"+this.width_+"px; text-align:center;")):t.push("height:"+this.height_+"px; line-height:"+this.height_+"px; width:"+this.width_+"px; text-align:center;");var n=this.textColor_?this.textColor_:"black",o=this.textSize_?this.textSize_:11;return t.push("cursor:pointer; top:"+e.y+"px; left:"+e.x+"px; color:"+n+"; position:absolute; font-size:"+o+"px; font-family:Arial,sans-serif; font-weight:bold"),t.join("")},t.MarkerClusterer=r,r.prototype.addMarker=r.prototype.addMarker,r.prototype.addMarkers=r.prototype.addMarkers,r.prototype.clearMarkers=r.prototype.clearMarkers,r.prototype.fitMapToMarkers=r.prototype.fitMapToMarkers,r.prototype.getCalculator=r.prototype.getCalculator,r.prototype.getGridSize=r.prototype.getGridSize,r.prototype.getExtendedBounds=r.prototype.getExtendedBounds,r.prototype.getMap=r.prototype.getMap,r.prototype.getMarkers=r.prototype.getMarkers,r.prototype.getMaxZoom=r.prototype.getMaxZoom,r.prototype.getStyles=r.prototype.getStyles,r.prototype.getTotalClusters=r.prototype.getTotalClusters,r.prototype.getTotalMarkers=r.prototype.getTotalMarkers,r.prototype.redraw=r.prototype.redraw,r.prototype.removeMarker=r.prototype.removeMarker,r.prototype.removeMarkers=r.prototype.removeMarkers,r.prototype.resetViewport=r.prototype.resetViewport,r.prototype.repaint=r.prototype.repaint,r.prototype.setCalculator=r.prototype.setCalculator,r.prototype.setGridSize=r.prototype.setGridSize,r.prototype.setMaxZoom=r.prototype.setMaxZoom,r.prototype.onAdd=r.prototype.onAdd,r.prototype.draw=r.prototype.draw,n.prototype.getCenter=n.prototype.getCenter,n.prototype.getSize=n.prototype.getSize,n.prototype.getMarkers=n.prototype.getMarkers,o.prototype.onAdd=o.prototype.onAdd,o.prototype.draw=o.prototype.draw,o.prototype.onRemove=o.prototype.onRemove,e.exports=r}).call(this,r(1))},function(e,t,r){"use strict";r.r(t),r.d(t,"Headers",function(){return u}),r.d(t,"Request",function(){return m}),r.d(t,"Response",function(){return g}),r.d(t,"DOMException",function(){return v}),r.d(t,"fetch",function(){return S});var n={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(n.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function a(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n.iterable&&(t[Symbol.iterator]=function(){return t}),t}function u(e){this.map={},e instanceof u?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function c(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function h(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:n.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:n.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():n.arrayBuffer&&n.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||i(e))?this._bodyArrayBuffer=f(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var e,t,r,n=c(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=p(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(e,t){e=s(e),t=a(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},u.prototype.delete=function(e){delete this.map[s(e)]},u.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},u.prototype.set=function(e,t){this.map[s(e)]=a(t)},u.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},u.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),l(e)},u.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),l(e)},u.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),l(e)},n.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(e,t){var r,n,o=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new u(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),y.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function _(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}}),t}function g(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},d.call(m.prototype),d.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var b=[301,302,303,307,308];g.redirect=function(e,t){if(-1===b.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})};var v=self.DOMException;try{new v}catch(e){(v=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),v.prototype.constructor=v}function S(e,t){return new Promise(function(r,o){var i=new m(e,t);if(i.signal&&i.signal.aborted)return o(new v("Aborted","AbortError"));var s=new XMLHttpRequest;function a(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new u,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}}),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var o="response"in s?s.response:s.responseText;r(new g(o,n))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new v("Aborted","AbortError"))},s.open(i.method,i.url,!0),"include"===i.credentials?s.withCredentials=!0:"omit"===i.credentials&&(s.withCredentials=!1),"responseType"in s&&n.blob&&(s.responseType="blob"),i.headers.forEach(function(e,t){s.setRequestHeader(t,e)}),i.signal&&(i.signal.addEventListener("abort",a),s.onreadystatechange=function(){4===s.readyState&&i.signal.removeEventListener("abort",a)}),s.send(void 0===i._bodyInit?null:i._bodyInit)})}S.polyfill=!0,self.fetch||(self.fetch=S,self.Headers=u,self.Request=m,self.Response=g)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={default:[],minimalistic:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"on"},{saturation:"-58"},{hue:"#00ff1c"},{lightness:"0"},{gamma:"0.83"}]},{featureType:"poi.business",elementType:"geometry.fill",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"labels",stylers:[{visibility:"off"},{saturation:"-33"}]},{featureType:"poi.business",elementType:"labels.text.stroke",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"all",stylers:[{visibility:"on"},{saturation:"-48"},{lightness:"29"}]},{featureType:"poi.school",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.sports_complex",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.highway.controlled_access",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"transit.line",elementType:"all",stylers:[{visibility:"off"},{saturation:"1"},{color:"#ee3945"},{weight:"1.33"},{lightness:"30"},{gamma:"1.84"}]},{featureType:"water",elementType:"all",stylers:[{color:"#61b7da"},{visibility:"on"},{saturation:"-40"},{lightness:"31"}]}],wmyl:[{featureType:"water",elementType:"geometry",stylers:[{color:"#552744"},{lightness:0}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:20}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#f7f7f7"},{lightness:20}]},{elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#333333"},{lightness:40}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"transit.line",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]}]}},function(e,t,r){(function(t,r){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.5+7f2b526d
 */var n;n=function(){"use strict";function e(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,i=void 0,s=void 0,a=function(e,t){d[o]=e,d[o+1]=t,2===(o+=2)&&(s?s(y):v())},l="undefined"!=typeof window?window:void 0,u=l||{},c=u.MutationObserver||u.WebKitMutationObserver,p="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){var e=setTimeout;return function(){return e(y,1)}}var d=new Array(1e3);function y(){for(var e=0;e<o;e+=2){(0,d[e])(d[e+1]),d[e]=void 0,d[e+1]=void 0}o=0}var m,_,g,b,v=void 0;function S(e,t){var r=this,n=new this.constructor(T);void 0===n[C]&&U(n);var o=r._state;if(o){var i=arguments[o-1];a(function(){return z(o,n,i,r._result)})}else j(r,n,e,t);return n}function w(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(T);return P(t,e),t}p?v=function(){return t.nextTick(y)}:c?(_=0,g=new c(y),b=document.createTextNode(""),g.observe(b,{characterData:!0}),v=function(){b.data=_=++_%2}):h?((m=new MessageChannel).port1.onmessage=y,v=function(){return m.port2.postMessage(0)}):v=void 0===l?function(){try{var e=Function("return this")().require("vertx");return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(y)}:f()}catch(e){return f()}}():f();var C=Math.random().toString(36).substring(2);function T(){}var L=void 0,E=1,x=2,k={error:null};function M(e){try{return e.then}catch(e){return k.error=e,k}}function A(t,r,n){r.constructor===t.constructor&&n===S&&r.constructor.resolve===w?function(e,t){t._state===E?R(e,t._result):t._state===x?B(e,t._result):j(t,void 0,function(t){return P(e,t)},function(t){return B(e,t)})}(t,r):n===k?(B(t,k.error),k.error=null):void 0===n?R(t,r):e(n)?function(e,t,r){a(function(e){var n=!1,o=function(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}(r,t,function(r){n||(n=!0,t!==r?P(e,r):R(e,r))},function(t){n||(n=!0,B(e,t))},e._label);!n&&o&&(n=!0,B(e,o))},e)}(t,r,n):R(t,r)}function P(e,t){var r,n;e===t?B(e,new TypeError("You cannot resolve a promise with itself")):(n=typeof(r=t),null===r||"object"!==n&&"function"!==n?R(e,t):A(e,t,M(t)))}function O(e){e._onerror&&e._onerror(e._result),I(e)}function R(e,t){e._state===L&&(e._result=t,e._state=E,0!==e._subscribers.length&&a(I,e))}function B(e,t){e._state===L&&(e._state=x,e._result=t,a(O,e))}function j(e,t,r,n){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+E]=r,o[i+x]=n,0===i&&e._state&&a(I,e)}function I(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,o=void 0,i=e._result,s=0;s<t.length;s+=3)n=t[s],o=t[s+r],n?z(r,n,o,i):o(i);e._subscribers.length=0}}function z(t,r,n,o){var i=e(n),s=void 0,a=void 0,l=void 0,u=void 0;if(i){if((s=function(e,t){try{return e(t)}catch(e){return k.error=e,k}}(n,o))===k?(u=!0,a=s.error,s.error=null):l=!0,r===s)return void B(r,new TypeError("A promises callback cannot return that same promise."))}else s=o,l=!0;r._state!==L||(i&&l?P(r,s):u?B(r,a):t===E?R(r,s):t===x&&B(r,s))}var H=0;function U(e){e[C]=H++,e._state=void 0,e._result=void 0,e._subscribers=[]}var q=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(T),this.promise[C]||U(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?R(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&R(this.promise,this._result))):B(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===L&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===w){var o=M(e);if(o===S&&e._state!==L)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(r===D){var i=new r(T);A(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===L&&(this._remaining--,e===x?B(n,r):this._result[t]=r),0===this._remaining&&R(n,this._result)},e.prototype._willSettleAt=function(e,t){var r=this;j(e,void 0,function(e){return r._settledAt(E,t,e)},function(e){return r._settledAt(x,t,e)})},e}(),D=function(){function t(e){this[C]=H++,this._result=this._state=void 0,this._subscribers=[],T!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t(function(t){P(e,t)},function(t){B(e,t)})}catch(t){B(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var r=this.constructor;return e(t)?this.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return D.prototype.then=S,D.all=function(e){return new q(this,e).promise},D.race=function(e){var t=this;return n(e)?new t(function(r,n){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(r,n)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},D.resolve=w,D.reject=function(e){var t=new this(T);return B(t,e),t},D._setScheduler=function(e){s=e},D._setAsap=function(e){a=e},D._asap=a,D.polyfill=function(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=D},D.Promise=D,D},e.exports=n()}).call(this,r(8),r(1))},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var l,u=[],c=!1,p=-1;function h(){c&&l&&(c=!1,l.length?u=l.concat(u):p=-1,u.length&&f())}function f(){if(!c){var e=a(h);c=!0;for(var t=u.length;t;){for(l=u,u=[];++p<t;)l&&l[p].run();p=-1,t=u.length}l=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new d(e,t)),1!==u.length||c||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=a(r(2)),i=a(r(10)),s=r(0);function a(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.imagePath=r,e._buildSidebar(t),this.resultWrapper=document.querySelector("."+s.SELECTOR_CLASS+"-sidebar__results"),this.buttonBarResult=document.querySelector("."+s.SELECTOR_CLASS+"-mobile-buttons-bar__result"),this.sidebarNumberPlaces=document.querySelector("."+s.SELECTOR_CLASS+"-sidebar__number-places"),new i.default}return n(e,[{key:"populateSidebar",value:function(e,t,r){var n=this;this.resultWrapper.innerHTML="",this._sortMarkers(e,r).forEach(function(e){var r=e.item,o=r.name,i=r.type,a=document.createElement("BUTTON");a.classList.add(s.SELECTOR_CLASS+"-sidebar-item"),a.onclick=function(){return t(e)},a.innerHTML='<span class="'+s.SELECTOR_CLASS+'-sidebar-item__name">'+o+"</span>"+(n.imagePath?'<img class="'+s.SELECTOR_CLASS+'-sidebar-item__logo " src="'+n.imagePath+(e.item.type?e.item.type:"")+'.png" alt="'+i+'"/>':"<div></div>"),n.resultWrapper.appendChild(a)}),this.setNumberVisibleMarkers(e)}},{key:"setNumberVisibleMarkers",value:function(e,t){var r=e.length+" plats"+(1!==e.length?"er":"")+(t?" i närheten":"");(0,s.isMobile)()?this.buttonBarResult.innerHTML=r:this.sidebarNumberPlaces.innerHTML=r}},{key:"_sortMarkers",value:function(t,r){return r?t.sort(function(t,n){return e._getDistance(r,{lat:parseFloat(t.item.lat),lng:parseFloat(t.item.lng)})<e._getDistance(r,{lat:parseFloat(n.item.lat),lng:parseFloat(n.item.lng)})}):t.sort(function(e,t){return e.item.name<t.item.name?-1:1})}}],[{key:"_buildSidebar",value:function(t){var r=t.searchBar,n=t.footer,i=t.mobileListToggleIcon,a='<div class="'+s.SELECTOR_CLASS+'-sidebar">';a+='<div class="'+s.SELECTOR_CLASS+'-sidebar__search">'+o.default.getHTML(r)+"</div>",a+=e._getMobileBarHTML({searchBar:r,mobileListToggleIcon:i}),a+='<div class="'+s.SELECTOR_CLASS+'-sidebar__wrapper"><div class="'+s.SELECTOR_CLASS+'-sidebar__results"></div><span class="'+s.SELECTOR_CLASS+'-sidebar__number-places">0 platser</span>'+e._getFooterHTML(n)+"</div></div>",document.querySelector("."+s.SELECTOR_CLASS).insertAdjacentHTML("beforeend",a)}},{key:"_getFooterHTML",value:function(e){if(e&&e.html)return e.html;var t='<footer class="'+s.SELECTOR_CLASS+'-footer">';if(!e)return"<footer></footer>";var r=e.text,n=e.logo,o=e.logoLink,i=e.logoTitle,a=e.logoSVG;return r&&(t+='<p class="'+s.SELECTOR_CLASS+'-footer__text">'+r+"</p>"),n&&(t+=o?'<a class="'+s.SELECTOR_CLASS+"-footer__logo "+s.SELECTOR_CLASS+'-footer__logo--link" href="'+o+'" title="'+(i||"Footer Logo")+'" target="_blank" rel="noopener noreferrer nofollow">':"<div class="+s.SELECTOR_CLASS+"-footer__logo>",t+=a?'<svg role="img" class="'+s.SELECTOR_CLASS+'-footer__image"><use xlink:href="'+n+'"/></svg>':'<img src="'+n+'" class="'+s.SELECTOR_CLASS+'-footer__image"/>',t+=o?"</a>":"</div>"),t+="</footer>"}},{key:"_getMobileBarHTML",value:function(e){return'<div class="'+s.SELECTOR_CLASS+'-mobile-buttons-bar"><span class="'+s.SELECTOR_CLASS+'-mobile-buttons-bar__result">0 platser</span><button class="'+s.SELECTOR_CLASS+"-mobile-buttons-bar__btn "+s.SELECTOR_CLASS+'-mobile-buttons-bar__btn--search">'+(e.searchBar&&e.searchBar.searchIcon?'<img src="'+e.searchBar.searchIcon+'" class="'+s.SELECTOR_CLASS+'-search-bar__icon" alt="sök">':"Sök")+'</button><button class="'+s.SELECTOR_CLASS+"-mobile-buttons-bar__btn "+s.SELECTOR_CLASS+'-mobile-buttons-bar__btn--toggle">'+(e.mobileListToggleIcon?'<img src="'+e.mobileListToggleIcon+'" class="'+s.SELECTOR_CLASS+"-mobile-buttons-bar__icon "+s.SELECTOR_CLASS+'-mobile-buttons-bar__icon--toggle">':'<span class="'+s.SELECTOR_CLASS+"-mobile-buttons-bar__icon "+s.SELECTOR_CLASS+'-mobile-buttons-bar__icon--toggle">V</span>')+"</button></div>"}},{key:"_getDistance",value:function(e,t){var r=t.lat-e.lat,n=t.lng-t.lng;return Math.sqrt(Math.pow(2,r)+Math.pow(2,n))}}]),e}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=document.querySelector("."+n.SELECTOR_CLASS+"-mobile-buttons-bar__btn--search"),r=document.querySelector("."+n.SELECTOR_CLASS+"-mobile-buttons-bar__btn--toggle"),o=document.querySelector("."+n.SELECTOR_CLASS+"-mobile-buttons-bar__icon--toggle"),i=document.querySelector("."+n.SELECTOR_CLASS+"-sidebar__search"),s=document.querySelector("."+n.SELECTOR_CLASS+"-sidebar");t&&i&&(t.onclick=function(){return i.classList.toggle(n.SELECTOR_CLASS+"-sidebar__search--show")}),s&&r&&(r.onclick=function(){o.classList.toggle(n.SELECTOR_CLASS+"-mobile-buttons-bar__icon--up"),s.classList.toggle(n.SELECTOR_CLASS+"-sidebar--hidden")})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0);var i=function(){function e(t,r,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sidebar=document.querySelector("."+o.SELECTOR_CLASS+"-sidebar"),this.popupOptions=t,this.buttonBarIcon=document.querySelector("."+o.SELECTOR_CLASS+"-mobile-buttons-bar__icon--toggle"),e._buildPopup(r),this.popup=document.querySelector("."+o.SELECTOR_CLASS+"-popup"),this.popupContainer=this.popup.querySelector("."+o.SELECTOR_CLASS+"-popup__container"),this.popupClose=this.popup.querySelector("."+o.SELECTOR_CLASS+"-popup__close"),this.popupClose.addEventListener("click",function(){return i.closePopup(n)})}return n(e,[{key:"closePopup",value:function(e){this.popup.classList.add(o.SELECTOR_CLASS+"-popup--close"),e&&e()}},{key:"showPopup",value:function(){this.popup.classList.contains(o.SELECTOR_CLASS+"-popup--close")&&(this.popup.classList.remove(o.SELECTOR_CLASS+"-popup--close"),this.sidebar&&this.sidebar.classList.add(o.SELECTOR_CLASS+"-sidebar--hidden"),this.buttonBarIcon&&this.buttonBarIcon.classList.add(o.SELECTOR_CLASS+"-mobile-buttons-bar__icon--up"))}},{key:"createPlacePopup",value:function(t){return this.popupContainer.innerHTML=(t.name?'<h2 class="'+o.SELECTOR_CLASS+'-popup__title">'+t.name+"</h2>":"")+(t.address?'<p class="'+o.SELECTOR_CLASS+'-popup__address">'+t.address+"</p>":"")+(t.comment?"<p>"+t.comment+"</p>":"")+'<div class="'+o.SELECTOR_CLASS+'-popup__contact">'+(t.phone?'<a href="tel:'+t.phone+'">'+t.phone+"</a>":"")+(t.link?'<a href="'+e._addHTTP(t.link)+'" target="_blank" rel="noreferrer nofollow">Webbplats</a>':"")+"</div>",this.popupContainer}},{key:"createAndShowPromptPopup",value:function(e){var t=this.popupOptions,r=t.link,n=t.textLink,i=t.noResultHTML,s=t.noResultText;return i?this.popupContainer.innerHTML="<div>"+i+"</div>":(this.popupContainer.innerHTML='<div><h2 class="'+o.SELECTOR_CLASS+'-popup__title">Tyvärr!</h2>',this.popupContainer.innerHTML+=s?"<p>"+s.replace("<PLACE_NAME>",e.name)+"</p>":'<p>Vi hittar tyvärr inte några resultat på <i>"'+e.name+'"</i>.</p>',this.popupContainer.innerHTML+=(r&&n?'<p><a href="'+r+'">'+n+"</a></p>":"")+"</div>"),this.showPopup(),this.popupContainer}}],[{key:"_addHTTP",value:function(e){return"w"===e.charAt(0)?"http://"+e:e}},{key:"_buildPopup",value:function(e){var t=document.querySelector("."+o.SELECTOR_CLASS),r='<div class="'+o.SELECTOR_CLASS+"-popup "+o.SELECTOR_CLASS+"-popup--close "+(e&&!(0,o.isMobile)()?o.SELECTOR_CLASS+"-popup--sidebar":"")+'"><button class="'+o.SELECTOR_CLASS+'-popup__close">x</button><div class="'+o.SELECTOR_CLASS+'-popup__container"></div></div>';t.insertAdjacentHTML("beforeend",r)}}]),e}();t.default=i},function(e,t,r){var n=r(13);"string"==typeof n&&(n=[[e.i,n,""]]);var o={insertAt:"top",hmr:!0,transform:void 0,insertInto:void 0};r(15)(n,o);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(14)(!1)).push([e.i,".places {\n  height: 100vh; }\n  .places__container {\n    height: 100%; }\n  .places-popup {\n    text-align: center;\n    position: absolute;\n    padding: 20px;\n    top: 50%;\n    left: 50%;\n    opacity: 1;\n    background: #fff;\n    transform: translateX(-50%) translateY(-50%); }\n    .places-popup--close {\n      opacity: 0;\n      top: 120%; }\n    .places-popup--sidebar {\n      left: calc(50% + 150px); }\n    .places-popup__close {\n      position: absolute;\n      top: -35px;\n      right: -30px;\n      width: 50px;\n      height: 50px;\n      padding: 0;\n      border-radius: 50%;\n      background: #fff; }\n    .places-popup__title {\n      margin: 0; }\n    .places-popup__address {\n      margin-top: 10px;\n      font-size: .9em; }\n    .places-popup__contact {\n      padding: 10px 0; }\n      .places-popup__contact a {\n        margin: 0 10px; }\n  .places-sidebar {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    top: auto;\n    right: 0;\n    z-index: 1;\n    display: flex;\n    justify-content: flex-start;\n    flex-direction: column;\n    background: none;\n    transition: .5s all ease; }\n    @media screen and (min-width: 960px) {\n      .places-sidebar {\n        width: 300px;\n        top: 0;\n        right: auto;\n        background: #ffffffaa;\n        justify-content: space-between; } }\n    @media screen and (max-width: 960px) {\n      .places-sidebar--hidden {\n        transform: translateY(calc(100% - 83px)); }\n        .places-sidebar--hidden .places-sidebar__wrapper {\n          opacity: 0; } }\n    .places-sidebar__wrapper {\n      display: flex;\n      flex-direction: column;\n      justify-content: flex-end;\n      max-height: 275px;\n      opacity: 1;\n      transition: .5s all ease; }\n      @media screen and (min-width: 960px) {\n        .places-sidebar__wrapper {\n          max-height: none;\n          height: 100%; } }\n    .places-sidebar__results {\n      direction: rtl;\n      overflow-y: auto; }\n    .places-sidebar__number-places {\n      display: none;\n      padding: 10px 20px;\n      background: #fff; }\n      @media screen and (min-width: 960px) {\n        .places-sidebar__number-places {\n          display: block; } }\n    .places-sidebar__search {\n      opacity: 0;\n      transform: translateX(-100%);\n      transition: transform .3s linear, opacity .2s linear;\n      -webkit-transform-style: preserve-3d;\n      -webkit-backface-visibility: hidden; }\n      .places-sidebar__search--show {\n        opacity: 1;\n        transform: initial; }\n      @media screen and (min-width: 960px) {\n        .places-sidebar__search {\n          opacity: 1;\n          position: static;\n          transform: none; } }\n  .places-sidebar-item {\n    display: flex;\n    width: 100%;\n    flex-direction: row-reverse;\n    justify-content: space-between;\n    align-items: center;\n    height: 50px;\n    margin: 5px 0;\n    padding: 0 20px;\n    background: #fff;\n    transition: transform .5s linear;\n    opacity: 1;\n    transform: initial;\n    text-align: left;\n    border: none;\n    -webkit-backface-visibility: hidden;\n    -webkit-transform-style: preserve-3d; }\n    .places-sidebar-item--inactive {\n      opacity: 0;\n      transform-origin: left;\n      transform: scaleX(0); }\n    @media screen and (min-width: 960px) {\n      .places-sidebar-item:hover, .places-sidebar-item--active {\n        transform: translateX(10px); } }\n    .places-sidebar-item__name {\n      padding-right: 10px; }\n    .places-sidebar-item__logo {\n      width: 50px;\n      max-height: 100%;\n      margin: 0;\n      border-radius: 50%; }\n  .places-footer {\n    display: none;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    height: 80px;\n    min-height: 80px;\n    padding: 5px 30px 5px 20px;\n    background: #fff; }\n    @media screen and (min-width: 960px) {\n      .places-footer {\n        display: flex; } }\n    .places-footer__text {\n      margin: 0 10px 6px 0;\n      font-size: 15px; }\n    .places-footer__logo {\n      width: 120px;\n      height: 100%; }\n    .places-footer__image {\n      height: 100%;\n      width: auto; }\n  .places-search-bar {\n    background: #fff;\n    display: flex;\n    justify-content: space-between;\n    padding: 10px 20px; }\n  .places-visually-hidden {\n    position: absolute;\n    overflow: hidden;\n    clip: rect(0 0 0 0);\n    margin: -1px;\n    padding: 0;\n    width: 1px;\n    height: 1px;\n    border: 0;\n    /** Visually Hidden Focusable\n         * Extends `Visually Hidden` to allow the element to be focusable when navigated\n         * to via the keyboard.\n         */ }\n    .places-visually-hidden:active, .places-visually-hidden:focus {\n      position: static;\n      overflow: visible;\n      clip: auto;\n      margin: 0;\n      width: auto;\n      height: auto; }\n  .places-mobile-buttons-bar {\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    height: 45px;\n    padding: 0 20px;\n    opacity: 1;\n    background: #fff;\n    -webkit-backface-visibility: hidden;\n    -webkit-transform-style: preserve-3d; }\n    .places-mobile-buttons-bar__result {\n      flex-grow: 1; }\n    .places-mobile-buttons-bar__btn {\n      width: 45px;\n      padding: 10px; }\n    .places-mobile-buttons-bar__icon {\n      width: 24px;\n      margin-left: 5px;\n      display: block; }\n      .places-mobile-buttons-bar__icon--toggle {\n        transition: transform .2s ease; }\n      .places-mobile-buttons-bar__icon--up {\n        transform: scaleY(-1); }\n    @media screen and (min-width: 960px) {\n      .places-mobile-buttons-bar {\n        display: none; } }\n",""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var o=(s=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),i=n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"});return[r].concat(i).concat([o]).join("\n")}var s;return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(n[i]=!0)}for(o=0;o<e.length;o++){var s=e[o];"number"==typeof s[0]&&n[s[0]]||(r&&!s[2]?s[2]=r:r&&(s[2]="("+s[2]+") and ("+r+")"),t.push(s))}},t}},function(e,t,r){var n,o,i={},s=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=n.apply(this,arguments)),o}),a=function(e){var t={};return function(e,r){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,r);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),l=null,u=0,c=[],p=r(16);function h(e,t){for(var r=0;r<e.length;r++){var n=e[r],o=i[n.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](n.parts[s]);for(;s<n.parts.length;s++)o.parts.push(g(n.parts[s],t))}else{var a=[];for(s=0;s<n.parts.length;s++)a.push(g(n.parts[s],t));i[n.id]={id:n.id,refs:1,parts:a}}}}function f(e,t){for(var r=[],n={},o=0;o<e.length;o++){var i=e[o],s=t.base?i[0]+t.base:i[0],a={css:i[1],media:i[2],sourceMap:i[3]};n[s]?n[s].parts.push(a):r.push(n[s]={id:s,parts:[a]})}return r}function d(e,t){var r=a(e.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=c[c.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),c.push(t);else if("bottom"===e.insertAt)r.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=a(e.insertAt.before,r);r.insertBefore(t,o)}}function y(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function m(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var n=function(){0;return r.nc}();n&&(e.attrs.nonce=n)}return _(t,e.attrs),d(e,t),t}function _(e,t){Object.keys(t).forEach(function(r){e.setAttribute(r,t[r])})}function g(e,t){var r,n,o,i;if(t.transform&&e.css){if(!(i="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=i}if(t.singleton){var s=u++;r=l||(l=m(t)),n=S.bind(null,r,s,!1),o=S.bind(null,r,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",_(t,e.attrs),d(e,t),t}(t),n=function(e,t,r){var n=r.css,o=r.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(n=p(n));o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,r,t),o=function(){y(r),r.href&&URL.revokeObjectURL(r.href)}):(r=m(t),n=function(e,t){var r=t.css,n=t.media;n&&e.setAttribute("media",n);if(e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}.bind(null,r),o=function(){y(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=s()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var r=f(e,t);return h(r,t),function(e){for(var n=[],o=0;o<r.length;o++){var s=r[o];(a=i[s.id]).refs--,n.push(a)}e&&h(f(e,t),t);for(o=0;o<n.length;o++){var a;if(0===(a=n[o]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete i[a.id]}}}};var b,v=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function S(e,t,r,n){var o=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=v(t,o);else{var i=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var r=t.protocol+"//"+t.host,n=r+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?r+i:n+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}}])});